import React, { memo, useMemo } from "react";
import PropTypes from "prop-types";
import theme from "@styles/theme";

/**
 * SVG icon maker
 * @param {Object} props - props
 * @returns {React.Node} - svg with concret path
 */
const Icon = ({ name, style, fill, width, height, className, ...svgProps }) => {
  const getViewBox = name => {
    switch (name) {
      case "vk":
      case "clock":
      case "search":
      case "facebook":
      case "location":
      case "instagram":
        return "0 0 24 24";
      case "phone":
      case "basket":
        return "0 0 30 30";
      case "compare":
        return "0 0 39 39";
      case "close":
        return "0 0 413.348 413.348";
      case "arrow":
        return "0 0 46 19";
      default:
        return "";
    }
  };

  const paths = useMemo(() => ({
    vk: (
      <path d="M21.547 7h-3.29a.743.743 0 00-.655.392s-1.312 2.416-1.734 3.23C14.734 12.813 14 12.126 14 11.11V7.604A1.104 1.104 0 0012.896 6.5h-2.474a1.982 1.982 0 00-1.751.813s1.256-.204 1.256 1.49c0 .419.022 1.626.041 2.64a.73.73 0 01-1.273.503 21.54 21.54 0 01-2.498-4.543.693.693 0 00-.63-.403h-2.99a.508.508 0 00-.48.685C3.005 10.175 6.916 18 11.38 18h1.879a.742.742 0 00.742-.742v-1.135a.73.73 0 011.229-.531l2.248 2.113a1.09 1.09 0 00.746.295h2.953c1.424 0 1.424-.988.647-1.753-.546-.538-2.518-2.617-2.518-2.617a1.019 1.019 0 01-.078-1.323c.637-.839 1.68-2.212 2.122-2.8.604-.804 1.698-2.507.198-2.507z" />
    ),
    instagram: (
      <path d="M8 3C5.243 3 3 5.243 3 8v8c0 2.757 2.243 5 5 5h8c2.757 0 5-2.243 5-5V8c0-2.757-2.243-5-5-5H8zm0 2h8c1.654 0 3 1.346 3 3v8c0 1.654-1.346 3-3 3H8c-1.654 0-3-1.346-3-3V8c0-1.654 1.346-3 3-3zm9 1a1 1 0 00-1 1 1 1 0 001 1 1 1 0 001-1 1 1 0 00-1-1zm-5 1c-2.757 0-5 2.243-5 5s2.243 5 5 5 5-2.243 5-5-2.243-5-5-5zm0 2c1.654 0 3 1.346 3 3s-1.346 3-3 3-3-1.346-3-3 1.346-3 3-3z" />
    ),
    facebook: (
      <path d="M17.525 9H14V7c0-1.032.084-1.682 1.563-1.682h1.868v-3.18A26.065 26.065 0 0014.693 2C11.98 2 10 3.657 10 6.699V9H7v4l3-.001V22h4v-9.003l3.066-.001L17.525 9z" />
    ),
    location: (
      <path d="M12 10a2 2 0 11.001-4.001A2 2 0 0112 10m0-5a3 3 0 100 6 3 3 0 000-6M5 7.602C5 4.085 8.271 1 12 1s7 3.085 7 6.602c0 3.455-2.563 7.543-7 14.527-4.489-7.073-7-11.072-7-14.527M12 0C7.802 0 4 3.403 4 7.602 4 11.8 7.469 16.812 12 24c4.531-7.188 8-12.2 8-16.398C20 3.403 16.199 0 12 0" />
    ),
    clock: (
      <path d="M12 0c6.623 0 12 5.377 12 12s-5.377 12-12 12S0 18.623 0 12 5.377 0 12 0zm0 1c6.071 0 11 4.929 11 11s-4.929 11-11 11S1 18.071 1 12 5.929 1 12 1zm0 11h6v1h-7V4h1v8z" />
    ),
    search: (
      <path d="M 23.597656 22.808594 L 15.691406 14.902344 C 17.066406 13.34375 17.910156 11.308594 17.910156 9.070312 C 17.910156 4.203125 13.945312 0.238281 9.074219 0.238281 C 4.203125 0.238281 0.238281 4.203125 0.238281 9.074219 C 0.238281 13.945312 4.203125 17.910156 9.074219 17.910156 C 11.304688 17.910156 13.34375 17.070312 14.898438 15.695312 L 22.800781 23.597656 C 22.914062 23.710938 23.058594 23.761719 23.199219 23.761719 C 23.34375 23.761719 23.488281 23.710938 23.597656 23.597656 C 23.816406 23.378906 23.816406 23.023438 23.597656 22.808594 M 1.359375 9.074219 C 1.359375 4.820312 4.820312 1.359375 9.074219 1.359375 C 13.324219 1.359375 16.785156 4.820312 16.785156 9.074219 C 16.785156 13.328125 13.324219 16.789062 9.074219 16.789062 C 4.820312 16.785156 1.359375 13.328125 1.359375 9.074219 " />
    ),
    basket: (
      <path d="M29.875 5.25c-.125-.125-.25-.25-.5-.25H5.625L5 1.75c0-.25-.375-.5-.625-.5H.625C.25 1.25 0 1.5 0 1.875s.25.625.625.625h3.25l3 15.25c.375 2 2.25 3.5 4.25 3.5H25.5c.375 0 .625-.25.625-.625S25.875 20 25.5 20H11.25c-1 0-2-.5-2.5-1.375l18.25-2.5c.25 0 .5-.25.5-.5l2.5-10s0-.25-.125-.375zm-3.5 9.75l-18.25 2.375-2.25-11.25H28.5zm0 0M10.625 22.5A3.095 3.095 0 007.5 25.625a3.095 3.095 0 003.125 3.125 3.095 3.095 0 003.125-3.125 3.095 3.095 0 00-3.125-3.125zm0 5c-1 0-1.875-.875-1.875-1.875s.875-1.875 1.875-1.875 1.875.875 1.875 1.875-.875 1.875-1.875 1.875zm0 0M23.125 22.5A3.095 3.095 0 0020 25.625a3.095 3.095 0 003.125 3.125 3.095 3.095 0 003.125-3.125 3.095 3.095 0 00-3.125-3.125zm0 5c-1 0-1.875-.875-1.875-1.875s.875-1.875 1.875-1.875S25 24.625 25 25.625s-.875 1.875-1.875 1.875zm0 0" />
    ),
    phone: (
      <path d="M6.05.379c-.812.148-1.827.562-2.523 1.02-1.359.89-2.394 2.183-2.875 3.605-.289.84-.359 1.32-.351 2.441.004.89.023 1.14.16 1.774.758 3.636 3.219 7.523 7.566 11.965 4.668 4.765 8.938 7.558 12.735 8.347.64.133.894.157 1.754.16.742 0 1.14-.023 1.515-.097.555-.114 1.356-.38 1.793-.602 1.149-.582 2.399-1.8 3.012-2.945.547-1.024.922-2.399.86-3.192-.067-.78-.544-1.398-1.462-1.878-.617-.325-5.101-2.024-5.597-2.122-.5-.097-1.188-.046-1.524.114-.465.23-.707.535-1.27 1.617-.585 1.137-.648 1.2-1.265 1.246-.566.047-1.039-.098-2.004-.613-1.68-.907-2.637-1.625-4.226-3.188-1.727-1.695-2.618-2.847-3.543-4.547-.551-1.03-.684-1.437-.649-2.046.02-.34.055-.5.14-.618.071-.09.485-.351 1.06-.648 1.05-.559 1.421-.844 1.644-1.281.203-.387.246-1.079.11-1.633-.133-.559-1.891-5.196-2.133-5.617-.301-.536-.668-.914-1.094-1.13-.309-.156-.45-.183-.871-.202-.301-.008-.696.02-.961.07zm1.376.937c.281.125.61.477.804.868.079.164.563 1.398 1.075 2.75.828 2.195.925 2.5.953 2.89.023.36.008.473-.09.664-.145.282-.34.418-1.387.938-.933.465-1.203.687-1.386 1.113-.176.402-.22 1.172-.09 1.766.148.73 1.125 2.535 2.011 3.726 1.121 1.504 3.13 3.52 4.606 4.617 1.219.895 3.031 1.891 3.738 2.036.883.183 1.735.05 2.195-.348.188-.16.356-.43.766-1.234.664-1.313.711-1.352 1.457-1.352l.524.008 2.332.879c2.515.949 3.023 1.168 3.386 1.48.457.395.555.828.383 1.668a6.548 6.548 0 01-2.305 3.735c-2.656 2.125-6.726 1.562-11.402-1.582-3.851-2.586-8.664-7.446-11.121-11.22-1.793-2.745-2.645-5.073-2.656-7.241-.004-1.457.293-2.528 1.008-3.579.472-.695 1.351-1.5 2.074-1.91 1.12-.625 2.554-.937 3.125-.672zm0 0" />
    ),
    close: (
      <path d="m413.348 24.354-24.354-24.354-182.32 182.32-182.32-182.32-24.354 24.354 182.32 182.32-182.32 182.32 24.354 24.354 182.32-182.32 182.32 182.32 24.354-24.354-182.32-182.32z" />
    ),
    compare: (
      <path d="M4.535.151c0 .083-.204.151-.454.151-.249 0-.453.068-.453.151 0 .084-.121.152-.269.152-.148 0-.367.136-.487.302-.12.166-.308.302-.418.302-.26 0-.942.683-.942.943 0 .11-.136.298-.303.418-.166.12-.302.339-.302.487 0 .147-.068.269-.151.269-.083 0-.151.136-.151.302 0 .166-.068.302-.152.302-.083 0-.15.204-.15.454s-.069.453-.152.453c-.088 0-.151.504-.151 1.21 0 .705.063 1.209.151 1.209.083 0 .151.204.151.453 0 .25.068.454.151.454.084 0 .152.136.152.302 0 .166.068.302.15.302.084 0 .152.136.152.303 0 .166.068.302.151.302.083 0 .151.104.151.232 0 .283.971 1.28 1.247 1.28.109 0 .296.136.416.302.12.166.339.302.487.302.148 0 .269.068.269.152 0 .083.175.15.389.15.84 0 .82-.187.82 7.775 0 4.794.053 7.342.151 7.342.084 0 .152.34.152.756 0 .415.068.756.15.756.084 0 .152.204.152.453 0 .25.068.454.151.454.083 0 .151.136.151.302 0 .166.068.302.151.302.083 0 .152.121.152.27 0 .147.136.366.302.486.166.12.302.308.302.418 0 .26.683.943.943.943.11 0 .298.136.418.302.12.166.339.302.487.302.147 0 .268.068.268.151 0 .084.273.151.605.151.333 0 .605.069.605.152 0 .097 1.662.15 4.686.15 2.577 0 4.686.037 4.686.08 0 .045-.816.893-1.814 1.886-1.73 1.72-1.814 1.834-1.814 2.425 0 .782.268 1.052 1.048 1.052.598 0 .7-.083 3.412-2.796 1.538-1.537 2.796-2.898 2.796-3.023s.068-.228.15-.228c.084 0 .152-.238.152-.53 0-.488-.246-.776-3.098-3.628-2.016-2.016-3.206-3.098-3.408-3.098-.357 0-1.052.636-1.052.963 0 .122-.085.261-.189.31-.151.07-.151.105 0 .176a.367.367 0 01.189.307c0 .12.816 1.03 1.814 2.023.998.993 1.814 1.841 1.814 1.886 0 .044-1.769.08-3.93.08-2.52 0-3.93-.055-3.93-.152 0-.083-.34-.15-.756-.15s-.756-.069-.756-.152c0-.083-.104-.151-.23-.151-.301 0-1.584-1.283-1.584-1.583 0-.127-.068-.231-.151-.231-.084 0-.152-.136-.152-.302 0-.167-.068-.303-.15-.303-.084 0-.152-.34-.152-.756 0-.415-.068-.755-.151-.755-.099 0-.151-2.498-.151-7.191 0-7.798-.019-7.623.82-7.623.214 0 .39-.068.39-.152 0-.083.135-.15.301-.15.167 0 .303-.069.303-.152 0-.083.103-.151.23-.151.126 0 .603-.373 1.058-.828.455-.455.828-.932.828-1.058 0-.127.068-.23.151-.23.083 0 .151-.136.151-.303 0-.166.068-.302.152-.302.083 0 .15-.136.15-.302 0-.166.069-.303.152-.303.091 0 .151-.655.151-1.662 0-1.008-.06-1.663-.151-1.663-.083 0-.151-.204-.151-.454 0-.249-.068-.453-.152-.453-.083 0-.15-.136-.15-.302 0-.167-.069-.303-.152-.303-.083 0-.151-.103-.151-.23 0-.3-1.587-1.886-1.886-1.886-.127 0-.23-.068-.23-.151 0-.083-.136-.151-.303-.151-.166 0-.302-.068-.302-.152 0-.083-.204-.15-.453-.15-.25 0-.454-.069-.454-.152C7.558.061 6.953 0 6.047 0 5.14 0 4.535.06 4.535.151zm17.232 0c0 .083-.102.151-.227.151-.298 0-5.517 5.22-5.517 5.517 0 .125-.068.228-.15.228-.084 0-.152.306-.152.68v.682l3.098 3.098c2.687 2.687 3.16 3.098 3.563 3.098.499 0 .897-.292.897-.657 0-.124.085-.265.189-.313.151-.07.151-.106 0-.177-.104-.048-.189-.255-.189-.46 0-.372-.6-1.114-.902-1.114-.157 0-2.726-2.491-2.726-2.644 0-.042 2.109-.077 4.686-.077 3.023 0 4.686.053 4.686.15 0 .084.104.152.23.152.301 0 1.584 1.283 1.584 1.583 0 .127.068.231.151.231.084 0 .152.204.152.454 0 .249.068.453.15.453.084 0 .152.272.152.605 0 .332.068.604.151.604.099 0 .151 2.57.151 7.407v7.407h-.604c-.333 0-.605.068-.605.151 0 .084-.121.152-.269.152-.148 0-.367.136-.487.302-.12.166-.307.302-.415.302-.275 0-1.55 1.302-1.55 1.584 0 .126-.068.23-.151.23-.083 0-.151.136-.151.303 0 .166-.068.302-.152.302-.083 0-.15.204-.15.453 0 .25-.069.454-.152.454-.091 0-.151.655-.151 1.663s.06 1.662.151 1.662c.083 0 .151.136.151.303 0 .166.068.302.151.302.084 0 .152.136.152.302 0 .167.068.303.15.303.084 0 .152.103.152.23 0 .28 1.578 1.886 1.853 1.886.108 0 .294.136.414.302.128.178.392.303.639.303.23 0 .42.068.42.15 0 .093.705.152 1.813.152 1.109 0 1.814-.059 1.814-.151 0-.083.136-.151.303-.151.166 0 .302-.068.302-.151 0-.084.136-.152.302-.152.167 0 .303-.068.303-.15 0-.084.104-.152.23-.152.282 0 1.584-1.275 1.584-1.55 0-.108.136-.295.302-.415.177-.128.302-.392.302-.638 0-.231.068-.42.151-.42.084 0 .152-.204.152-.454s.068-.453.15-.453c.087 0 .152-.454.152-1.058 0-.605-.065-1.058-.151-1.058-.083 0-.151-.273-.151-.605 0-.333-.068-.605-.151-.605-.084 0-.152-.136-.152-.302 0-.166-.068-.302-.15-.302-.084 0-.152-.122-.152-.27 0-.147-.136-.366-.302-.486-.167-.12-.303-.308-.303-.418 0-.26-.682-.943-.942-.943-.11 0-.298-.136-.418-.302-.12-.166-.339-.302-.487-.302-.148 0-.269-.068-.269-.152 0-.083-.175-.15-.389-.15-.839 0-.82.174-.82-7.624 0-4.693-.053-7.19-.151-7.19-.084 0-.151-.34-.151-.757 0-.415-.069-.755-.152-.755-.083 0-.15-.272-.15-.605 0-.332-.069-.605-.152-.605-.083 0-.151-.136-.151-.302 0-.166-.068-.302-.151-.302-.083 0-.151-.109-.151-.242s-.205-.432-.454-.665c-.25-.233-.453-.503-.453-.6 0-.241-.386-.61-.637-.61-.112 0-.302-.136-.422-.302-.12-.166-.338-.302-.486-.302-.148 0-.27-.068-.27-.151 0-.083-.203-.151-.453-.151s-.453-.069-.453-.152c0-.097-1.713-.15-4.838-.15-4.24 0-4.837-.03-4.837-.232 0-.127.816-1.043 1.814-2.036 1.54-1.532 1.814-1.876 1.814-2.274 0-.508-.291-.9-.67-.9-.13 0-.237-.069-.237-.152 0-.083-.136-.151-.302-.151-.166 0-.303.068-.303.151zM7.256 2.57c0 .083.136.15.302.15.166 0 .302.069.302.152 0 .083.106.151.234.151.286 0 .976.667.976.943 0 .11.136.298.302.418.267.192.302.391.302 1.696 0 .885-.06 1.478-.15 1.478-.084 0-.152.104-.152.23 0 .128-.304.536-.676.908-.372.372-.78.676-.907.676s-.23.068-.23.151c0 .09-.594.151-1.48.151-1.304 0-1.503-.035-1.695-.302-.12-.166-.308-.302-.418-.302-.276 0-.943-.69-.943-.976 0-.128-.068-.234-.15-.234-.084 0-.152-.136-.152-.302 0-.166-.068-.302-.151-.302-.088 0-.151-.504-.151-1.21 0-.705.063-1.209.15-1.209.084 0 .152-.103.152-.23 0-.396 1.61-1.886 2.037-1.886.21 0 .382-.068.382-.151 0-.087.453-.151 1.058-.151.604 0 1.058.064 1.058.15zm27.36 27.058c.12.166.308.302.418.302.276 0 .943.69.943.976 0 .129.068.234.15.234.084 0 .152.136.152.302 0 .166.068.302.151.302.088 0 .151.504.151 1.21 0 .705-.063 1.209-.15 1.209-.084 0-.152.103-.152.23 0 .3-1.587 1.886-1.886 1.886-.127 0-.23.068-.23.151 0 .088-.504.151-1.21.151-.705 0-1.209-.063-1.209-.15 0-.084-.136-.152-.302-.152-.166 0-.302-.068-.302-.151 0-.083-.105-.151-.234-.151-.286 0-.976-.667-.976-.943 0-.11-.136-.298-.302-.418-.267-.192-.302-.391-.302-1.696 0-.885.06-1.478.15-1.478.084 0 .152-.104.152-.23 0-.128.304-.536.676-.908.372-.372.78-.676.907-.676s.23-.068.23-.151c0-.09.594-.151 1.48-.151 1.304 0 1.503.035 1.695.302z" />
    ),
    arrow: (
      <g
        strokeLinecap="round"
        strokeLinejoin="round"
        stroke={theme.colors[fill]}
      >
        <path d="M40.727 9H5.273M17 17L5 9l12-8" />
      </g>
    ),
    boxView: (
      <>
        <path fill={theme.colors.secondary} d="M0 0h30v30H0z" />
        <path
          fill={theme.colors.white}
          d="M7 7h7v7H7zM17 7h7v7h-7zM7 17h7v7H7zM17 17h7v7h-7z"
        />
      </>
    ),
    listView: (
      <>
        <path fill={theme.colors.gray000} d="M0 0h30v30H0z" />
        <path
          fill={theme.colors.secondary}
          d="M12 8h13v3H12zM6 8h3v3H6zm0 6h3v3H6zm6 0h13v3H12zm-6 6h3v3H6zm6 0h13v3H12z"
        />
      </>
    ),
  }));

  return (
    <svg
      style={style}
      className={className}
      width={width || height}
      height={height || width}
      fill={theme.colors[fill] || "none"}
      viewBox={getViewBox(name)}
      xmlns="http://www.w3.org/2000/svg"
      xmlnsXlink="http://www.w3.org/1999/xlink"
      {...svgProps}
    >
      {paths[name]}
    </svg>
  );
};

Icon.defaultProps = {
  style: {},
  fill: "white",
  height: "100%",
  width: "100%",
  className: "",
};

Icon.propTypes = {
  fill: PropTypes.string,
  style: PropTypes.object,
  className: PropTypes.string,
  name: PropTypes.string.isRequired,
  width: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),
  height: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),
};

export default memo(Icon);
